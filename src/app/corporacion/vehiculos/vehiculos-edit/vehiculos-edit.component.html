<app-action-bar2
  #actionBar2Comp
  [showActions]="this.showActionList"
  [titles]="this.titlesList"
  (actionClicked)="onActionClicked($event)"
  class="span-cols"
>
</app-action-bar2>

<div class="comp-cont">
  <form name="groupForm" #groupForm="ngForm">

    <mat-card class="form-cont">
      <div class="title">
        <h3>Registro de Vehículos</h3>
        <mat-divider></mat-divider>
      </div>
      <mat-form-field>
        <mat-label>Clave Interna</mat-label>
        <input matInput placeholder="Clave Interna" [(ngModel)]="vehiculo.numEco" name="numEco" required>
        <mat-hint></mat-hint>
      </mat-form-field>

      <p></p>

      <!-- <mat-form-field>
        <mat-select placeholder="Entidad" formControlName="coordinadora" >
          <mat-option *ngFor="let en of this.coordinadora" [value]="en" >{{en.coordinadora}}</mat-option>
        </mat-select>
      </mat-form-field> -->

      <mat-form-field>
        <mat-label>Placas</mat-label>
        <input matInput placeholder="Número de placas" [(ngModel)]="vehiculo.placa" name="placa" required>
        <mat-hint></mat-hint>
      </mat-form-field>

      <mat-form-field>
        <mat-select placeholder="Tipo de Vehículo" [(ngModel)]="vehiculo.tipoVehi" name="tipoVehi" [compareWith]="this.compareWithTipos" required>
          <mat-option *ngFor="let en of this.tips" [value]="en" >{{en.nom}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-select placeholder="Marca" [(ngModel)]="vehiculo.marca" name="marca" [compareWith]="this.compareWithTipos" required>
          <mat-option *ngFor="let en of this.marcas" [value]="en" >{{en.nom}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Modelo</mat-label>
        <input matInput placeholder="Modelo (año)" [(ngModel)]="vehiculo.modelo" name="modelo" required>
        <mat-hint></mat-hint>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Vehículo</mat-label>
        <input matInput placeholder="Vehículo" [(ngModel)]="vehiculo.vehiculo" name="vehiculo" required>
        <mat-hint></mat-hint>
      </mat-form-field>

      <mat-form-field>
        <mat-select placeholder="Uso" [(ngModel)]="vehiculo.uso" name="uso" [compareWith]="this.compareWithTipos" required>
          <mat-option *ngFor="let en of this.usos" [value]="en" >{{en.nom}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Número de Serie</mat-label>
        <input matInput placeholder="Número de Serie" [(ngModel)]="vehiculo.numSerie" name="numSerie" required>
        <mat-hint></mat-hint>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Número de Motor</mat-label>
        <input matInput placeholder="Número de Motor" [(ngModel)]="vehiculo.numMotor" name="numMotor" required>
        <mat-hint></mat-hint>
      </mat-form-field>

      <mat-form-field>
        <mat-select placeholder="Estado del Vehículo" [(ngModel)]="vehiculo.estatus" name="estatus" [compareWith]="this.compareWithTipos" required>
          <mat-option *ngFor="let en of this.estatus" [value]="en" >{{en.nom}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-select placeholder="GPS" [(ngModel)]="vehiculo.gps" name="gps" [compareWith]="this.compareWithTipos" required>
          <mat-option *ngFor="let en of this.gpss" [value]="en" >{{en}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
          <mat-select placeholder="Tipo" [(ngModel)]="vehiculo.tipo" name="tipo" [compareWith]="this.compareWithTipos"  (ngModelChange)="onSelectionChange(vehiculo.tipo, 'T', 'UI')" required>
            <mat-option *ngFor="let en of tipos" [value]="en">{{en.tipo}}</mat-option>
          </mat-select>
        </mat-form-field>
  
        <mat-form-field>
          <mat-select placeholder="Institución" [(ngModel)]="vehiculo.institucion" name="institucion" [compareWith]="this.compareWithTipos" (ngModelChange)="onSelectionChange(vehiculo.institucion, 'I', 'UI')" required>
            <mat-option *ngFor="let in of instituciones" [value]="in">{{in.institucion}}</mat-option>
          </mat-select>
        </mat-form-field>
  
        <mat-form-field>
          <mat-select placeholder="Sede" [(ngModel)]="vehiculo.sede" name="sede" [compareWith]="this.compareWithTipos" (ngModelChange)="onSelectionChange(vehiculo.sede, 'S', 'UI')" required>
            <mat-option *ngFor="let se of sedes" [value]="se">{{se.sede}}</mat-option>
          </mat-select>
        </mat-form-field>
  
        <mat-form-field *ngIf="vehiculo.tipo['tipo']=='MUNICIPAL'">
          <mat-select placeholder="Municipio" [(ngModel)]="vehiculo.municip" name="municip" [compareWith]="this.compareWithTipos" required>
            <mat-option *ngFor="let mu of municipios" [value]="mu">{{mu.municip}}</mat-option>
          </mat-select>
        </mat-form-field>
    </mat-card>
  </form>
</div>
